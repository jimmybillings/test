<section class="login hero" *ngIf="config">
	<div layout="row" md-scroll-y="" layout-align="center start">
		<div flex-gt-lg="30" flex-gt-md="40" flex-gt-sm="55" flex="100">
			<md-card class="wz-form-card" *ngIf="!successfullySubmitted">
				<md-card-title>
					{{ 'REGISTER.TITLE' | translate }}
				</md-card-title>
				<md-card-content>
					<wz-form [items]="config.form.items" [serverErrors]="serverErrors" submitLabel="REGISTER.FORM.SUBMIT_LABEL" (formSubmit)="onSubmit($event)"
						(viewTos)="termsDialog.show()"></wz-form>
				</md-card-content>
			</md-card>

			<md-card class="registration-confirm" *ngIf="successfullySubmitted">
				<md-card-title>{{ 'REGISTER.CONFIRMATION.TITLE' | translate }}</md-card-title>
				<md-card-subtitle>{{ 'REGISTER.CONFIRMATION.MESSAGE' | translate }}</md-card-subtitle>
				<span class="email">{{newUser.emailAddress}}</span>
			</md-card>

			<div md-theme="docs-dark" layout="column" layout-align="center center" layout-wrap=""><span class="md-title">{{'REGISTER.ALREADY_HAVE_ACCOUNT' | translate }} <a md-button="" [routerLink]="['/user/login']" class="md-accent">{{'REGISTER.LOGIN' | translate }}</a></span></div>
		</div>
	</div>
</section>

<wz-dialog #termsDialog>
	<md-card class="terms-dialog">
		<div layout="row" layout-align="center center">
			<md-card-title>{{ 'REGISTER.TOS_TITLE' | translate }}</md-card-title>
		</div>
		<md-card-subtitle [innerHtml]="activeTos | async"></md-card-subtitle>
		<md-card-actions layout="row" layout-align="center center">
			<button (click)="termsDialog.close(); agreeToTerms()" md-raised-button type="button" color="primary" class="conversion">{{ 'REGISTER.AGREE_TO_TOS_BTN' | translate }}</button>
		</md-card-actions>
	</md-card>
</wz-dialog>