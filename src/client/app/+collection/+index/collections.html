<section class="collection-head">
  <div layout="row" layout-align="center start">
    <header flex="100" flex-gt-md="95" flex-gt-lg="85">
        <collections-search-form
          [ngClass]="{ 'revealed' : collectionSearchIsShowing }"
          [hidden]="!collectionSearchIsShowing"
          (query)="search($event)"
          (closeSearch)="showCollectionSearch()">
        </collections-search-form>

        <collections-filter-dd 
          *ngIf="collectionFilterIsShowing"
          flex="100"
          (filter)="filter($event)"
          (close)="showCollectionFilter()"
          layout="row" 
          layout-align="end start" 
          class="revealed">
        </collections-filter-dd>

        <collections-sort-dd
          *ngIf="collectionSortIsShowing"
          flex="100"
          (sort)="sortBy($event)"
          (close)="showCollectionSort()"
          layout="row" 
          layout-align="end start" 
          class="revealed">
        </collections-sort-dd>
      <div flex="100" layout="row" layout-xs="column">
        <h2 flex="100" layout-align="end center" class="md-display-1">{{ 'COLLECTION.INDEX.PAGE_TITLE' | translate }}</h2>
        <div class="tools" flex="auto" layout-align="end center">
          <button md-icon-button
            *ngIf="!collectionSearchIsShowing"
            title="{{ 'COLLECTION.DD_MENU.SEARCH_BTN_TITLE' | translate }}"
            type="button" 
            (click)="toggleCollectionSearch()">
            <md-icon *ngIf="!collectionSearchIsShowing">search</md-icon>
          </button>
          <button md-icon-button
            *ngIf="collectionSearchIsShowing"
            title="Collapse search"
            type="button" 
            (click)="toggleCollectionSearch()">
            <!--<md-icon *ngIf="collectionSearchIsShowing">chevron_right</md-icon>-->
            <!--<md-icon *ngIf="collectionSearchIsShowing">remove_circle_outline</md-icon>-->
            <md-icon>subdirectory_arrow_right</md-icon>
          </button>
          <button md-icon-button title="{{ 'COLLECTION.DD_MENU.FILTER_BTN_TITLE' | translate }}" (click)="showCollectionFilter($event)"><md-icon>filter_list</md-icon></button>
          <button md-icon-button title="{{ 'COLLECTION.DD_MENU.SORT_BTN_TITLE' | translate }}" (click)="showCollectionSort($event)"><md-icon>sort</md-icon></button>
        </div>
      </div>
    </header>























    <!--<header flex="100" flex-gt-md="85" flex-gt-lg="75">
      <div flex="100" layout="row" layout-xs="column">
        <h2 class="md-display-1">Your Collections</h2>
      </div>
      <div flex="100" layout="row" layout-align="end end">


        <collections-search-form
          [ngClass]="{ 'revealed' : isCollectionSearchOpen }" 
          [hidden]="!isCollectionSearchOpen" 
          (query)="search($event)">
        </collections-search-form>
        <button md-icon-button 
          title="{{ 'COLLECTION.DD_MENU.SEARCH_BTN_TITLE' | translate }}" 
          type="button" 
          (click)="toggleCollectionSearch()">
          <md-icon *ngIf="isCollectionSearchOpen">close</md-icon>
          <md-icon *ngIf="!isCollectionSearchOpen">search</md-icon>
        </button>

        <button md-button class="is-dd filter-selector" (click)="filterCollections.show($event)">
          {{ 'COLLECTION.INDEX.FILTER_DD_MENU.HEADING' | translate }}

          <span class="selected">
            {{'COLLECTION.INDEX.FILTER_DD_MENU.'+getActiveFilter() | uppercase | translate}}
          </span>
        </button>
        <wz-dropdown #filterCollections>
          <collections-filter-dd 
            [UiState]="UiState" 
            (filter)="filter($event); filterCollections.close()" 
            (close)="filterCollections.close()"
            layout="row" 
            layout-align="end start" 
            class="revealed">
          </collections-filter-dd>
        </wz-dropdown>
        
        <button md-button class="is-dd filter-selector" (click)="sortCollections.show($event)">
          Sort: 
          <span class="selected">
            {{'COLLECTION.INDEX.SORT_DD_MENU.'+getActiveSort() | uppercase | translate }}
          </span>
        </button>
        <wz-dropdown #sortCollections>
          <collections-sort-dd 
            [UiState]="UiState" 
            (sort)="sortBy($event); sortCollections.close()" 
            (close)="sortCollections.close()"
            layout="row" layout-align="end start" class="revealed">
          </collections-sort-dd>
        </wz-dropdown>
      </div>
    </header>-->





  </div>
</section>
    

<div layout="row" layout-align="center start">
  <div class="md-caption query-details"  flex="100" flex-gt-md="95" flex-gt-lg="85">
    <span *ngIf="currentSearchQuery" flex="auto" class="search">
      <strong>{{ 'COLLECTION.DD_MENU.SEARCH_QUERY_TITLE' | translate }}</strong>{{currentSearchQuery}}
    </span>
    <span *ngIf="currentFilter !== 'ALL'" flex="auto" class="filter">
      <strong>{{ 'COLLECTION.DD_MENU.FILTER_BY_TITLE' | translate }}</strong>{{'COLLECTION.INDEX.FILTER_DD_MENU.' + currentFilter | uppercase | translate}}
    </span> 
    <span flex="100" class="sort">
      <strong>{{ 'COLLECTION.DD_MENU.SORTED_ON_TITLE' | translate }}</strong>{{'COLLECTION.INDEX.SORT_DD_MENU.' + currentSort | uppercase | translate }}
    </span> 
  </div>
</div>



<section class="hero">
  <div layout="row" flex="100" layout-margin layout-align="center start">
    <section class="collections-list" flex="100" flex-gt-md="95" flex-gt-lg="85">
      <wz-pagination [pagination]="(collectionsService.data | async).pagination" (getPage)="changePage($event)">
      </wz-pagination>
      <!-- COLLECTION LIST -->
      <wz-collection-item-list [collections]="(collectionsService.data | async).items" [activeCollection]="(activeCollection.data | async).id"
        (setActiveCollection)="selectActiveCollection($event)">
      </wz-collection-item-list>
      <wz-pagination [pagination]="(collectionsService.data | async).pagination" (getPage)="changePage($event)">
      </wz-pagination>
    </section>
  </div>
</section>